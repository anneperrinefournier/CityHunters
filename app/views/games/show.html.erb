<div class="container" data-controller="game">
  <div class="riddle-container d-none" data-game-target="riddle">
    <h1 class="mt-3 text-center border-bottom"><%= @riddle.title %></h1>
    <div class="d-flex justify-content-center">
      <%# if @riddle.photo.attached? %>
        <%#= cl_image_tag(@riddle.photo.key, width: 300, height: 300, crop: fill) %>
      <%# else %>
        <%= cl_image_tag('compass', width: 300, height: 300, crop: 'fill', class:"riddle-picture") %>
      <%# end %>
    </div>
    <div class="mt-3">
      <p><%= @riddle.question %></p>
    </div>
    <div class='d-flex justify-content-center' data-controller="answer-modal">
      <button class="btn btn-primary" data-action="click->answer-modal#openModal" >RÃ©pondre</button>
       <%= render partial:"answer_modal" %>
    </div>

    <div style="width: 100%; height: 600px;"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>

  <div class="mt-3 story-introduction" data-game-target="introduction">
    <h1>Introduction</h1>
    <p><%= @storyline.introduction %></p>
    <div class="d-flex justify-content-center">
      <button class="btn btn-primary" data-action="click->game#closeIntroduction">C'est parti!</button>
    </div>
  </div>
</div>
